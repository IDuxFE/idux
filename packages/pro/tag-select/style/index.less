@import '../../style/variable/index.less';
@import '../../../components/style/variable/index.less';
@import '../../../components/style/mixins/ellipsis.less';
@import '../../style/mixins/reset.less';

.@{pro-tag-select-prefix} {
  .reset-component();

  &-panel {
    padding: var(--ix-padding-size-xs) 0;
    max-height: var(--ix-pro-tag-select-panel-max-height);
    overflow-y: auto;

    &-alert {
      padding: 0 var(--ix-padding-size-sm);
    }
    &-empty {
      height: var(--ix-height-sm);
      padding: 0 var(--ix-padding-size-md);
      color: var(--ix-color-text-placeholder);
    }
  }
  &-option {
    height: var(--ix-height-sm);
    padding: 0 var(--ix-padding-size-sm);
    display: flex;
    align-items: center;
    cursor: pointer;

    &-active {
      background-color: var(--ix-color-container-bg-hover);
    }

    &-tag {
      height: var(--ix-pro-tag-select-tag-height);
      line-height: calc(var(--ix-pro-tag-select-tag-height) - var(--ix-control-line-width) * 2);

      .@{control-trigger-prefix}-overlay-match-width & {
        max-width: calc(100% - var(--ix-font-size-icon) - var(--ix-margin-size-sm));

        .@{tag-prefix}-content {
          max-width: 100%;
          .ellipsis();
        }
      }
    }

    &-edit-trigger {
      margin-left: auto;
      height: 100%;
      width: var(--ix-font-size-icon);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: var(--ix-font-size-icon);
      color: var(--ix-color-icon);
      visibility: hidden;
      pointer-events: none;
      cursor: pointer;

      &:hover {
        color: var(--ix-color-icon-hover);
      }
    }

    &:hover {
      .@{pro-tag-select-prefix}-option-edit-trigger {
        visibility: visible;
        pointer-events: unset;
      }
    }
  }
  &-creation {
    color: var(--ix-color-text);
    &-input {
      font-weight: var(--ix-font-weight-lg);
      margin-left: var(--ix-margin-size-xs);
    }
  }

  &-edit-panel {
    padding: var(--ix-padding-size-sm) 0;
    min-width: var(--ix-pro-tag-select-edit-panel-min-width);
    font-size: var(--ix-font-size-sm);
    color: var(--ix-color-text);
    &-input {
      padding: 0 var(--ix-padding-size-sm);
    }
    &-delete {
      margin-top: var(--ix-margin-size-sm);
      padding: 0 var(--ix-padding-size-md);
      height: var(--ix-height-sm);
      display: flex;
      align-items: center;
      cursor: pointer;
      &-icon {
        font-size: var(--ix-font-size-icon);
        color: var(--ix-color-icon);
        margin-right: var(--ix-margin-size-sm);
      }
    }
    &-colors {
      display: flex;
      flex-direction: column;
      align-items: center;
      &::before {
        content: '';
        height: var(--ix-line-width);
        width: calc(100% - var(--ix-padding-size-sm) * 2);
      }
      &-item {
        height: var(--ix-height-sm);
        width: 100%;
        padding: 0 var(--ix-padding-size-md);
        display: flex;
        align-items: center;
        &:hover,
        &-selected:hover {
          background-color: var(--ix-color-container-bg-hover);
        }
        &-selected {
          background-color: var(--ix-color-container-bg-active);
        }

        &-indicator {
          height: var(--ix-pro-tag-select-color-indicator-size);
          width: var(--ix-pro-tag-select-color-indicator-size);
          border-radius: 9999px;
          margin-right: var(--ix-margin-size-sm);
        }

        &-check {
          margin-left: auto;
          font-size: var(--ix-font-size-icon);
          color: var(--ix-color-icon);
        }
      }
    }
  }
  &-select-confirm {
    &-header {
      padding: 0 var(--ix-padding-size-lg);
    }
    &-content {
      padding: 0 var(--ix-padding-size-lg) var(--ix-padding-size-sm) var(--ix-padding-size-lg);
    }
    &-footer {
      display: flex;
      align-items: center;
      justify-content: flex-end;
      padding: var(--ix-padding-size-sm) var(--ix-padding-size-lg);

      .@{button-prefix} + .@{button-prefix} {
        margin-left: 8px;
      }
    }
  }

  @select-margin-half: calc((var(--ix-margin-size-xs) / 2));
  @select-padding-vertical: ~'max(calc(var(--ix-margin-size-xs) - var(--ix-control-line-width) - @{select-margin-half}), 0px)';
  @select-item-height: var(--ix-pro-tag-select-tag-height);
  @select-item-line-height: calc(@select-item-height - var(--ix-control-line-width) * 2);

  &-selected-tag {
    height: @select-item-height;
    line-height: @select-item-line-height;
    max-width: 100%;
    margin: @select-margin-half 0;
    margin-inline-end: var(--ix-margin-size-xs);

    .@{tag-prefix}-content {
      max-width: 100%;
      .ellipsis();
    }

    &-remove-icon {
      margin-left: var(--ix-margin-size-xs);
      cursor: pointer;
      color: var(--ix-color-icon);
      &:hover {
        color: var(--ix-color-icon-hover);
      }
    }
  }
}
